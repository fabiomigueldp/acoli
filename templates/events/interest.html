{% extends 'base.html' %}
{% load extras %}
{% block title %}Eventos{% endblock %}
{% block content %}
<div class="card">
  <h2 class="font-serif text-xl mb-2">Interesse em eventos</h2>
  {% if not acolyte %}
    <p class="text-sm text-slate">Seu usuario nao esta vinculado a um perfil de acolito.</p>
  {% else %}
    <form method="post" class="space-y-3">
      {% csrf_token %}
      {% for item in series %}
        <label class="flex items-center justify-between border border-black/5 rounded-lg p-3">
          <div>
            <div class="font-medium">{{ item.title }}</div>
            <div class="text-sm text-slate">{{ item.start_date }} a {{ item.end_date }}</div>
          </div>
          {% with interest=interests|get_item:item.id %}
            <input type="checkbox" name="series" value="{{ item.id }}" {% if interest and interest.interested %}checked{% endif %} />
          {% endwith %}
        </label>
      {% empty %}
        <p class="text-sm text-slate">Nenhum evento cadastrado.</p>
      {% endfor %}
      {% if series %}
        <button class="btn-primary">Salvar interesse</button>
      {% endif %}
    </form>
  {% endif %}
</div>
{% endblock %}
